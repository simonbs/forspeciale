\chapter{Design}\label{chap:design}

This chapter describes the design of core components of the system.

The architecture of the system is presented in \Cref{sec:architecture}.
\Cref{sec:detecting-points} describes the approach we took for detecting if the user is pointing.
Furthermore, to determine which device should perform the action, 
without a line of sight requirement, 
we need to know the \emph{indoor location} of the user, 
the position of the device(s) and the heading of the user. 
We will discuss how we get the location of the devices and the user in \Cref{sec:design:indoor-positioning}.
In \Cref{sec:design:indoor-positioning} we discuss the differences between region monitoring and ranging, 
in regards to indoor positioning. 
Furthermore we propose a design for configuring rooms for indoor positioning.
At last, as described in \Cref{sec:smarthomes}, 
we need a smart hub to allow communication between the different devices, 
including the wearable, to be able to perform actions on the devices. 
We design a server to hold information about the locations of devices,
and to communicate with a smart hub in \Cref{sec:serverdesign}. 

Our approach to a solution thus requires accurate indoor location, 
a wrist-worn wearable that can recognize gestures, 
and a hub for interoperability between the wearable and the smart devices. 

\input{content/design/architecture.tex}
\input{content/design/detecting-points}
\input{content/design/indoor-positioning}
\input{content/design/server}



%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../master"
%%% End:
