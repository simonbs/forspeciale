\chapter{Design}\label{chap:design}
In our problem statement in \Cref{sec:researchstatement}, 
we asked what we can do with wearables in a smart home setting.
In the sections before that, 
we described some of the ways of controlling a smart home. 
One of these was using gestures to control devices in the home. 
As the most used sensor in wearables is the accelerometer (see \Cref{fig:wearables-sensors}), 
it makes sense to utilize this sensor to perform the gestures used to control the devices. 
Our approach to our problem statement is thus using a wearable, 
and its sensors, to perform gestures and thereby control a smart home. 

The goal of our project is to create a system, 
that allows gesture-based communication between the user and smart devices.
We describe the context and the target group of this system in \Cref{sec:target-group}.
We want to design the system so that a user, wearing a \emph{wrist wearable}, 
can simply point at a smart device and perform a gesture to control this device. 
This is much like the solution that Reemo (see \Cref{sec:smarthomecontrol}) uses. 
However, we feel that the line-of-sight requirement is a big loss of control, 
as it severely limits the control of objects.
With a line-of-sight requirement, 
it is impossible to control objects in other rooms, 
such as turning on your coffee machine while you are in your bedroom. 
We want to remove this limitation in our solution. 

For this to work, we need a way to determine when a gesture is being performed, 
and which device should perform the action. 
The architecture of the system is presented in \Cref{sec:architecture}.
Gesture recognition is a large subject and will be described in \Cref{sec:gesturerecognition}. 
Furthermore, to determine which device should perform the action, 
without a line of sight requirement, 
we need to know the \emph{indoor location} of the user, 
the position of the device(s) and the heading of the user's gesture. 
We will discuss how we get the location of the devices and the user in \Cref{sec:designindoorlocation}.
At last, as described in \Cref{sec:smarthomes}, 
we need a smart hub to allow communication between the different devices, 
including the wearable, to be able to perform actions on the devices. 
We design a server to hold information about the locations of devices,
and to communicate with a smart hub in \Cref{sec:serverdesign}. 

Our approach to a solution thus requires accurate indoor location, 
a wrist-worn wearable that can recognize gestures, 
and a hub for interoperability between the wearable and the smart devices. 

\input{content/design/architecture.tex}
\input{content/design/detecting-points}
\input{content/design/indoor-positioning}
\input{content/design/server}



%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../master"
%%% End:
